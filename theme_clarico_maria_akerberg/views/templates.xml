<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="short_cart_summary_maria" inherit_id="website_sale.short_cart_summary" name="Short Cart right column Maria">
        <xpath expr="//a[@href='/shop/checkout?express=1']" position="replace">
        </xpath>
    </template>

    <template id="maria_product_tabs" inherit_id="theme_clarico.html_content_tabs_ept" name="Maria product_tabs">
        <xpath expr="//t[li[a[@id='nav_tabs_link_specification']]]" position="replace">
        </xpath>
        <xpath expr="//div[@id='nav_tabs_content_specification']" position="replace">
        </xpath>

        <xpath expr="//li[a[@id='nav_tabs_link_description']]" position="after">
            <li class="nav-item">
                <a class="nav-link te_tab_mb_nav_link" id="nav_tabs_link_use" data-toggle="tab" href="#nav_tabs_content_use" role="tab" aria-controls="nav_tabs_content_use" aria-selected="false">
                    <span class="fa fa-sort-amount-desc mr-2"/>
                    <span class="nav_tab_title">Use</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link te_tab_mb_nav_link" id="nav_tabs_link_ingredients" data-toggle="tab" href="#nav_tabs_content_ingredients" role="tab" aria-controls="nav_tabs_content_ingredients" aria-selected="false">
                    <span class="fa fa-sort-amount-desc mr-2"/>
                    <span class="nav_tab_title">Ingredients</span>
                </a>
            </li>
        </xpath>

        <xpath expr="//div[div[@t-field='product.website_description']]" position="replace">
            <div class="tab-pane fade show active py-3" id="nav_tabs_content_description" role="tabpanel" aria-labelledby="nav_tabs_link_description">
                <div itemprop="description" t-field="product.product_variant_id.description_webshop" class="col-lg-12 pt-3" id="product_full_description"/>
            </div>

            <div class="tab-pane fade show active py-3" id="nav_tabs_content_use" role="tabpanel" aria-labelledby="nav_tabs_link_use">
                <div itemprop="description" t-field="product.product_variant_id.description_use" class="col-lg-12 pt-3" id="product_full_description"/>
            </div>

            <div class="tab-pane fade show active py-3" id="nav_tabs_content_ingredients" role="tabpanel" aria-labelledby="nav_tabs_link_ingredients">
                <div itemprop="description" t-field="product.product_variant_id.description_ingredients" class="col-lg-12 pt-3" id="product_full_description"/>
            </div>
        </xpath>
    </template>

    <template id="variants_maria_button" inherit_id="sale.variants">
        <xpath expr="//t[@t-if=&quot;ptal.attribute_id.display_type == 'color'&quot;]" position="after">
            <t t-if="ptal.attribute_id.display_type in ['button']">
                <ul t-att-data-attribute_id="ptal.attribute_id.id" t-attf-class="list-unstyled #{'d-none' if single_and_custom else ''}" id="attrs-radio">
                    <t t-foreach="ptal.product_template_value_ids._only_active()" t-as="ptav">
                        <li class="form-group js_attribute_value" style="margin: 7px 7px 0 0;">
                            <label t-attf-class="col-form-label #{'active' if ptav in combination else ''}">
                                <div>
                                    <input type="radio"
                                    t-attf-class="js_variant_change radio_input #{ptal.attribute_id.create_variant}"
                                    t-att-checked="ptav in combination"
                                    t-att-name="'ptal-%s' % ptal.id"
                                    t-att-value="ptav.id"
                                    t-att-data-value_id="ptav.id"
                                    t-att-data-value_name="ptav.name"
                                    t-att-data-attribute_name="ptav.attribute_id.name"
                                    t-att-data-is_custom="ptav.is_custom"
                                    t-att-data-is_single_and_custom="single_and_custom"
                                    />
                                    <div class="radio_input_value">
                                        <span t-field="ptav.name" style="font-weight: lighter;"/>
                                    </div>
                                </div>
                            </label>
                        </li>
                    </t>
                </ul>
            </t>
        </xpath>
    </template>

    <template id="products_attributes_maria" inherit_id="theme_clarico.products_attributes_ept">
        <xpath expr="//t[@t-if=&quot;a.display_type == 'select'&quot;]" position="attributes">
            <attribute name="t-if">a.display_type in ['select', 'button']</attribute>
        </xpath>
    </template>

    <template id="portal_layout_maria" inherit_id="portal.portal_layout" name="portal_layout_maria">
        <xpath expr="//div[@class='o_portal_my_details']//h4" position="replace">
            <h4>Details</h4>
        </xpath>
    </template>

    <template id="portal_my_home_sale" inherit_id="sale.portal_my_home_sale" priority="20">
        <xpath expr="//t[@t-call='portal.portal_docs_entry']" position="replace">
        </xpath>
    </template>

    <template id="payment_sale_note_maria" inherit_id="website_sale.payment_sale_note" name="Maria Akerberg terms">
        <xpath expr="//label/a" position="replace">
            <a data-toggle="modal" data-target="#terms_view" href="">terms &amp; conditions</a>
        </xpath>

        <xpath expr="//div[@class='custom-control custom-checkbox float-right mt-2 oe_accept_cgv_button']" position="after">
            <div class="modal fade" id="terms_view" tabindex='-1'>
                <div class="modal-dialog modal-lg modal-dialog-centered">
                    <div class="modal-content quick_view_modal">
                        <button type="button" class="quick_close" data-dismiss="modal"
                                aria-label="Close" tabindex="-1">
                        </button>
                        <div class="modal-body">
                            <t t-call="theme_clarico_maria_akerberg.terms"/>
                        </div>
                    </div>
                </div>
            </div>
        </xpath>
    </template>

    <template id="products_item" inherit_id="website_sale.products_item" name="Products">
        <xpath expr="//h6[@class='o_wsale_products_item_title']" position="replace">
            <h6 class="o_wsale_products_item_title product_name" t-att-title="product.name">
                <a itemprop="name" t-att-href="product_href" t-att-content="product.name" t-field="product.name"/>
                <a role="button" t-if="not product.website_published" t-att-href="product_href" class="btn btn-sm btn-danger" title="This product is unpublished.">Unpublished</a>
            </h6>
        </xpath>
    </template>

    <!-- OVERWRITING CLARICO THEME OPTION 3 -->
    <template id="customize_header_style_3" inherit_id="portal.frontend_layout"
              active="False" name="Header style 3">
        <!-- vertical menu -->
        <xpath expr="//div[@id='wrapwrap']/header" position="after">
            <div class="te_vertical_menu">
                <section>
                    <a href="#" class="te_menu_btn_close">
                        <i class="fa fa-times te_menu_icon_close"></i>
                    </a>
                </section>
                <t t-set="website_vertical_menu"
                   t-value="request.website.viewref('theme_clarico.menu_vertical').active"/>
                <t t-if="website_vertical_menu">
                    <div t-call="theme_clarico.menu_vertical"/>
                </t>
            </div>
        </xpath>
        <xpath expr="//header/nav" position="before">
            <div class="te_header_before_overlay">
                <div class="container te_header_style_3_main">
                    <div class="te_header_top_text_mobile d-none">
                        <t t-call="theme_clarico.te_header_offer_string"/>
                    </div>
                    <div class="row align-items-center mt16 te_header_style_3_inner_first">
                        <div class="col-lg-8 te_header_3_offer">
                            <section>
                                <p></p>
                                <section t-field="website.website_header_offer_ept"/>
                            </section>
                        </div>
                        <div class="col-lg-4 te_header_3_search">
                            <div class="te_header_search">
                                <div class="te_srch_icon_header">
                                    <a href="#" class="">
                                        <i class="fa fa-search te_srch_icon"/>
                                        <i class="fa fa-times te_srch_close"/>
                                    </a>
                                </div>
                                <div class="te_search_popover" tabindex="-1">
                                    <t t-call="website_sale.website_sale_products_search_box"></t>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row align-items-center py-2 te_header_style_3_inner">
                        <div class="col-lg-4">
                            <!-- <t t-set="logo_show"
                               t-value="request.website.viewref('website.option_header_brand_logo').active"/>
                            <t t-set="logo_text"
                               t-value="request.website.viewref('website.option_header_brand_name').active"/>
                            <t t-if="logo_show">
                                <a href="/" class="navbar-brand logo te_header_before_logo">
                                    <span t-field="website.logo" t-options="{'widget': 'image'}" role="img"
                                          t-att-aria-label="'Logo of %s' % website.name" t-att-title="website.name"/>
                                </a>
                            </t>
                            <t t-elif="logo_text">
                                <a class="te_header_before_logo navbar-brand" href="/" t-if="website"
                                   t-field="website.name">My Website
                                </a>
                            </t>
                            <t t-else="">
                                <t t-call="website.placeholder_header_brand"></t>
                            </t> -->
                        </div>
                        <div class="col-lg-8 te_login_right">
                            <!-- Header cart link -->
                            <!-- <t t-call="website_sale.header_cart_link">
                                <t t-set="search_icon_disabled" t-value="1"/>
                                <t t-set="_icon" t-value="True"/>
                                <t t-set="_item_class" t-value="'nav-item'"/>
                                <t t-set="_link_class" t-value="'nav-link'"/>
                            </t> -->
                            <!-- Header wishlist link -->
                            <t t-call="website_sale_wishlist.header_wishlist_link">
                                <t t-set="_icon" t-value="True"/>
                                <t t-set="_item_class" t-value="'nav-item'"/>
                                <t t-set="_link_class" t-value="'nav-link'"/>
                            </t>
                            <t t-set="website_vertical_menu"
                               t-value="request.website.viewref('theme_clarico.menu_vertical').active"/>
                            <div class="px-1 te_bar_icon" t-if="website_vertical_menu">
                                <a href="#" class="">
                                    <i class="fa fa-sliders"/>
                                </a>
                            </div>
                            <t t-set="website_sale_pricelists" t-value="website.get_pricelist_available(show_visible=True)"/>
                            <div class="px-1 te_pricelist" t-if="website_sale_pricelists and len(website_sale_pricelists)&gt;1">
                                <t t-call="website_sale.pricelist_list"/>
                            </div>
                            <div class="px-1"
                                 t-if="request.website.viewref('website.header_language_selector').active or request.website.viewref('website.header_language_selector_inline').active">
                                <t t-call="website.placeholder_header_language_selector">
                                    <t t-set="_div_classes" t-value="'ml-2'"/>
                                </t>
                            </div>
                            <div class="px-1">
                                <div class="dropdown te_user_account" t-ignore="true" t-if="not user_id._is_public()">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                        <span class="te_user_account_name"
                                              t-esc="user_id.name[:23] + '...' if user_id.name and len(user_id.name) &gt; 25 else user_id.name"/>
                                        <span class="te_user_account_icon">
                                            <i class="fa fa-user" aria-hidden="true"></i>
                                        </span>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right js_usermenu" role="menu">
                                        <a role="menuitem" class="dropdown-item te_user_name">
                                            <span class="te_user_drop_item">Hello,
                                                <span class="te_user_drop_item"
                                                      t-esc="user_id.name[:15] + '...' if user_id.name and len(user_id.name) &gt; 16 else user_id.name"/>
                                            </span>
                                        </a>
                                        <a href="/my/home" role="menuitem" class="dropdown-item">
                                            <span
                                                    class="fa fa-user"/>
                                            <span class="te_user_drop_item">My Account</span>
                                        </a>
                                        <a href="/my/orders" role="menuitem" class="dropdown-item">
                                            <span
                                                    class="fa fa-pie-chart"/>
                                            <span class="te_user_drop_item">My orders</span>
                                        </a>
                                        <a id="o_logout" class="dropdown-item"
                                           t-attf-href="/web/session/logout?redirect=/"
                                           role="menuitem">
                                            <span class="fa fa-sign-out"/>
                                            <span class="te_user_drop_item">Logout</span>
                                        </a>
                                    </div>
                                </div>
                                <div groups="base.group_public" class="te_signin"
                                     t-if="request.website.viewref('portal.user_sign_in').active">
                                    <a t-attf-href="/web/login" class="btn-link">
                                        <span class="te_user_account_name">Sign in</span>
                                        <span class="te_user_account_icon">
                                            <i class="fa fa-user" aria-hidden="true"></i>
                                        </span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </xpath>
        <xpath expr="//header//nav" position="replace">
            <nav data-name="Navbar"
                 class="navbar navbar-expand-md o_colored_level navbar-light d-block te_header_navbar">
                <div id="top_menu_container" class="container">
                    <!-- Brand -->
                    <t t-call="website.placeholder_header_brand"/>
                    <!-- Navbar Toggler -->
                    <t t-call="website.navbar_toggler">
                        <t t-set="_toggler_class" t-value="'ml-auto'"/>
                    </t>
                    <!-- Navbar Collapse -->
                    <div id="top_menu_collapse" class="collapse navbar-collapse">
                        <t t-call="website.navbar_nav">
                            <t t-if="request.website.viewref('website.template_header_default_align_center').active">
                                <t t-set="_nav_class" t-value="'mx-auto'"/>
                            </t>
                            <t t-if="request.website.viewref('website.template_header_default_align_right').active">
                                <t t-set="_nav_class" t-value="'ml-auto'"/>
                            </t>
                            <!-- Menu -->
                            <t t-foreach="website.menu_id.child_id" t-as="submenu">
                                <t t-call="website.submenu">
                                    <t t-set="item_class" t-value="'nav-item'"/>
                                    <t t-set="link_class" t-value="'nav-link'"/>
                                </t>
                            </t>
                            <li class="o_wsale_my_wish nav-item o_wsale_my_wish_hide_empty te_wish_icon_head"></li>
                        </t>
                    </div>
                </div>
            </nav>
        </xpath>
    </template>

</odoo>
